<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../script/fileOrganization_Script.js"></script>
    <link href="../style/homepageStyle.css" rel="stylesheet">
    <link href="../style/mainStyle.css" rel="stylesheet">
    <link href="../style/nuovaOrganizzazioneStyle.css" rel="stylesheet">
    <link href="../style/loadingStyle.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/2f266e86a2.js" crossorigin="anonymous"></script>
    <title>Nuova Organizzazione</title>
</head>
<body style="background-color: whitesmoke;">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <div class="container-xxl" style="height: 100vh; background-color: whitesmoke; overflow: auto;" id="main-container">
        <div class="row p-2 m-5 header">
            <div class="col-3 headerButtonContainer" >
                <div class="row" style="height: 50%;" >
                    <div class="col-3 headerButton" onclick="openHomePage()">
                        <img class="headerImage"  src="../assets/home.png">
                    </div>
                    <div class="col-9 headerButton" onclick="openHomePage()">
                        Home
                    </div>
                </div>
                <div class="row" style=" height: 50%;">
                    <div class="col-3 headerButton" onclick="openLoadingPage()">
                        <img class="headerImage"  src="../assets/settings.png">
                    </div>
                    <div class="col-9 headerButton">
                        Impostazioni
                    </div>
                </div>
            </div>
            <div class="col-2 headerImageContainer" >
                <img class="headerImage"  src="../assets/newOrg_Icon.png">
            </div>
            <div class="col-7 headerTitle" style="background-color: white;">
                Organizzazione File
            </div>
        </div>
        <div class="main-container m-5">
            <div class="row p-2 titleRow">
                <div class="col-12">CARTELLA DA ORGANIZZARE <i class="fa-solid fa-folder-plus" style="color: #fe4600;"></i></div>
            </div>
            <div class="row folderSection">
                <div class="col-3">
                    <button id="select-folder-button" onclick="insertFolderPath()">Scegli Cartella</button>
                </div>
                <div class="col-9" sl="background-color: red">
                    <input type="text" id="folder-path" spellcheck="false" placeholder="Inserisci il path della cartella" size="70" onchange="updateFolderPath()">
                </div>
            </div>
            <div class="row folderSection">
                <div class="col-12" id="folderPreview">
                    <div class="row" id="folderPreviewBox">
                        Inserisci una cartella per visualizzare l'anteprima.
                    </div>
                </div>
            </div>
            <div class="row p-2 titleRow">
                <div class="col-12">FILTRI E BLACKLIST <i class="fa-solid fa-circle-minus" style="color: #fe4600;"></i></div>
            </div>
            <div class="row folderSection">
                <div class="col-6">
                    <label>Considerare il contenuto dei file per la classificazione?</label>
                </div>
                <div class="col-6">
                    <label class="switch">
                        <input type="checkbox" id="contentCheckBox" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
            <div class="row folderSection">
                <div class="col-3">
                    <label>BlackList:</label>
                </div>
                <div class="col-5">
                    <input type="file" id="blacklist-input" multiple onchange="getBlackListFiles()">
                </div>
                <div class="col-4" style="color: crimson;">
                    <span onclick="clearBlacklist()" style="cursor: pointer;"><u>Svuota</u> <i class="fa-solid fa-trash-can"></i></span>
                </div>
            </div>
            <div class="row folderSection">
                <div class="col-12" id="blacklist">
                    
                </div>
            </div>
            <div class="row p-2 titleRow">
                <div class="col-12">PREFERENZE <i class="fa-solid fa-gear" style="color: #fe4600;"></i></div>
            </div>
            <div class="row folderSection">
                <div class="col-6">
                    <label>Suddividere i file multimediali in sotto-cartelle?</label>
                </div>
                <div class="col-6">
                    <label class="switch">
                        <input type="checkbox" id="mediaCheckBox">
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
            <div class="row folderSection">
                <div class="col-6">
                    <label>Inserire i file con classificazione incerta in un cartella "Others"?</label>
                </div>
                <div class="col-6">
                    <label class="switch">
                        <input type="checkbox" id="othersCheckBox">
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
            <div class="row folderSection">
                <div class="col-6">
                    <label>Preservare le sottocartelle?</label>
                </div>
                <div class="col-6">
                    <label class="switch">
                        <input type="checkbox" id="subfolderCheckBox">
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
            <div class="row p-2 titleRow">
                <div class="col-12">ðŸš€</div>
            </div>
            <div class="row folderSection">
                <div class="col-3" style="text-align: center;"></div>
                <div class="col-6" style="text-align: center;">
                    <button class="startButton" onclick="startOrganization()">
                        <svg height="30" width="30" fill="#FFFFFF" viewBox="0 0 24 24" data-name="Layer 1" id="Layer_1" class="sparkle">
                            <path d="M10,21.236,6.755,14.745.264,11.5,6.755,8.255,10,1.764l3.245,6.491L19.736,11.5l-6.491,3.245ZM18,21l1.5,3L21,21l3-1.5L21,18l-1.5-3L18,18l-3,1.5ZM19.333,4.667,20.5,7l1.167-2.333L24,3.5,21.667,2.333,20.5,0,19.333,2.333,17,3.5Z"></path>
                        </svg>
                        <span class="text">Avvia Organizzazione</span>
                    </button>
                </div>
                <div class="col-3" style="text-align: center;"></div>
            </div>
            <div class="row p-2 titleRow">
                <div class="col-12">RISULTATO</div>
            </div>
            <div class="row folderSection" style="display: none;" id="organizationResult">
                <div class="col-12">
                    <div class="loader">
                        <div class="loaderBar"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>

        // Funzione lambda per aprire la pagina "index.html"
        const openLoadingPage = () => {
          window.location.href = 'loadingPage.html';
        };
    </script>
</body>
</html>